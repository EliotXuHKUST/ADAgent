# AI Ad Agent 通用广告决策引擎 (v2.0)

## 1. 产品定位
**“基于 Agent 的通用智能广告决策引擎”**
从单纯的“流量分发”升级为**“意图理解与策略生成”**。
该系统作为一个独立的决策中枢 (Brain)，可嵌入电商、游戏、大模型搜索 (AI Search) 等多种上层业务应用中。

## 2. 核心场景：大模型搜索广告 (AI Search Ads)
这是本系统的首要落地场景，旨在解决 SearchGPT / Perplexity 类产品变现难、广告生硬的问题。

### 2.1 交互形态
1.  **用户提问**：用户向 AI 搜索引擎输入自然语言 Query（例如：“最近总是失眠，有什么助眠的好办法？”）。
2.  **Agent 思考**：
    *   **User Insight**：识别深层意图（健康焦虑、寻求即时解决方案、价格敏感度预测）。
    *   **Ad Retrieval**：从广告库中检索相关产品（助眠枕头、褪黑素、冥想 App 会员）。
    *   **Strategy Decision**：判断插入时机与形式（是作为“工具推荐”列表，还是作为“专家建议”的一部分）。
3.  **原生生成**：AI 在生成回答时，将广告内容**知识化**，自然融入答案中，并附带引用链接或购买卡片。

### 2.2 核心价值
*   **对用户**：广告即信息 (Ads as Info)。广告不再是打断体验的弹窗，而是解决问题的有效方案。
*   **对广告主**：获得高意图 (High Intent) 用户，且品牌形象更专业（作为“推荐方案”出现）。
*   **对平台**：在不牺牲回答质量的前提下实现高 ARPU (每用户平均收入) 变现。

## 3. 核心场景：其他垂直领域
虽然首选搜索场景，但架构设计需兼容：
*   **电商导购 (E-commerce)**：
    *   *场景*：用户浏览/对话。
    *   *能力*：实时感知用户犹豫/比价心理，动态生成促销策略（发券、降价、赠品）或话术引导。
*   **游戏化广告 (In-Game)**：
    *   *场景*：玩家游戏过程。
    *   *能力*：基于情绪（挫败/兴奋）和游戏进程，动态投放虚拟道具或植入式品牌广告。

## 4. 技术架构 (基于 AI TV Agent 架构演进)
沿用“分层决策 + 语义缓存 + 低 LLM 介入率”的核心设计。

### 4.1 总体分层
1.  **接入层 (SDK/API)**：接收 Search Query、User Context、Game State 等多模态输入。
2.  **决策路由层**：
    *   **L1 规则/缓存**：命中高频意图（如“买iPhone”），直接返回预设策略。
    *   **L2 语义匹配**：基于向量检索匹配相似的历史决策。
    *   **L3 Agent 推理**：复杂/长尾请求调用 LLM 进行深度思考。
3.  **核心 Agent 组**：
    *   **User Insight Agent**：意图识别、情绪感知、画像构建。
    *   **Strategy Agent**：广告选品、出价计算、原生文案生成 (Ad Copy Generation)。
    *   **Review Agent**：根据 CTR/CVR 回流数据，自动优化 Prompt 和策略参数。
4.  **数据层**：
    *   广告知识库 (Ad Knowledge Base)：不仅仅是标题图片，还包含产品的详细参数、适用场景（用于 RAG 生成）。
    *   用户意图库 (Intent Store)：结构化的用户意图标签。

### 4.2 关键指标
*   **QPS**：支持千级并发（通过语义缓存实现）。
*   **LLM 介入率**：控制在 5% 以内，保证成本可控。
*   **响应延迟**：P95 < 200ms (缓存命中时)，< 800ms (LLM 推理时，可流式输出掩盖延迟)。

## 5. 商业模式
*   **私有化部署 (License)**：面向大型搜索平台、电商巨头，提供整套决策引擎 + 硬件方案。
*   **API 服务 (SaaS)**：面向中小型开发者，提供“意图理解 + 广告填充”接口。

