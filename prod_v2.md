# AI Ad Agent 通用广告决策引擎 (v3.0)

## 1. 产品定位
**“基于非结构化数据推理的智能内容决策引擎”**

我们不做传统的“搜索-应答”系统，而是构建一个**后台决策大脑**。
系统接入用户产生的海量**非结构化数据**（如行为日志、聊天记录、游戏操作流、IoT 传感器数据），利用大模型强大的**推理能力 (Reasoning)**，深度洞察用户的**隐性需求**，主动**推送 (Push)** 极其精准的内容或广告。

**一句话描述**：
> "User doesn't ask. We observe, we reason, we deliver."
> 用户不主动提问。我们观察数据，推理意图，主动交付价值。

## 2. 核心逻辑：从“匹配”到“推理”

### 2.1 传统推荐 vs. 本系统

| 维度 | 传统推荐系统 (RecSys) | **AI Ad Agent (本系统)** |
| :--- | :--- | :--- |
| **输入** | 结构化标签 (Tags, IDs) | **非结构化数据** (文本流、日志、行为序列) |
| **核心能力** | 统计学匹配 (协同过滤) | **LLM 语义推理** (为什么他现在需要这个？) |
| **时效性** | 离线计算为主 | **实时流式感知** |
| **输出** | 猜你喜欢 (相似物品) | **解决方案** (针对当前痛点的精准内容/服务) |

### 2.2 工作流 (Pipeline)

1.  **感知 (Perceive)**：接入非结构化数据流。
    *   *输入*：用户浏览某装修论坛的帖子内容、游戏中连续失败的操作日志、智能家居检测到的睡眠噪音数据。
2.  **推理 (Reason)**：Agent 深度分析隐性状态。
    *   *推理链*：检测到用户浏览“除醛”帖子 + 停留时间长 -> 推理出“刚装修完” + “有健康焦虑” -> 进一步推理出“需要高客单价的空气治理服务，而不是便宜的炭包”。
3.  **决策 (Decide)**：匹配最佳策略。
    *   *策略*：不是简单推一个商品，而是生成一个“装修后如何快速入住”的知识卡片，里面自然植入某品牌空净租赁服务。
4.  **触达 (Act)**：在合适的终端主动推送。
    *   *输出*：App 通知、Feed 流置顶卡片、智能助手的语音提示。

## 3. 核心场景 (Use Cases)

### 3.1 泛内容/社区场景 (知乎/小红书/论坛)
*   **输入**：用户的浏览轨迹、阅读的帖子内容（文本）、停留时长、点赞行为。
*   **推理**：
    *   用户看了一篇“职场PUA”的帖子，又看了一篇“裸辞”的帖子。
    *   **Agent 推理**：用户处于职业倦怠期，可能有转行或心理咨询需求。
*   **推送**：
    *   推送一门“职业规划咨询服务”或“心理舒缓课程”。
    *   *形式*：不是硬广，而是一篇“如何科学评估是否该裸辞”的深度文章（内含服务链接）。

### 3.2 游戏场景 (MMO/MOBA)
*   **输入**：玩家的实时操作流、聊天频道发言、战斗数据。
*   **推理**：
    *   玩家在副本中连续死亡，并在聊天中抱怨“奶妈加不上血”。
    *   **Agent 推理**：玩家当前有强烈的挫败感，且归因于队友或装备，此时付费意愿极高（冲动消费）。
*   **推送**：
    *   推送一个“限时生存礼包”或“高回血药水”。
    *   *形式*：游戏内 NPC 弹窗：“勇士，看你受了重伤，这瓶药水或许能救你一命。”

### 3.3 智能硬件/IoT 场景
*   **输入**：智能手表的睡眠数据、智能音箱的对话片段。
*   **推理**：
    *   手表显示连续三天入睡时间晚于 2:00，且深睡时间短。
    *   **Agent 推理**：用户存在严重的失眠问题，且可能伴随白天的疲劳。
*   **推送**：
    *   次日早晨，音箱主动提醒：“昨晚睡得不好，今天要不要试试这款‘助眠精油’？”

## 4. 技术架构 (数据流驱动)

### 4.1 数据接入层 (Data Ingestion)
*   支持 Kafka/Pulsar 实时流接入。
*   **非结构化清洗**：将原始日志转化为 Agent 可理解的自然语言描述（Log-to-Text）。

### 4.2 推理核心 (Reasoning Core)
*   **User Insight Agent**：
    *   **长短期记忆 (Memory)**：结合用户历史画像（长期）和当前 Session 行为（短期）。
    *   **CoT (思维链)**：执行多步推理。例如：行为 -> 情绪 -> 需求 -> 商品。
*   **Vector Store (语义向量库)**：
    *   存储海量广告/内容的 Embedding。
    *   通过 RAG 检索最匹配当前推理结论的内容。

### 4.3 策略生成层 (Strategy Generation)
*   **Content Gen**：利用 LLM 实时生成文案、图片甚至短视频脚本。
*   **Format Adapter**：适配不同终端（Push 通知、Feeds 卡片、弹窗）。

## 5. 商业价值
*   **极高的转化率 (CVR)**：因为抓住了“关键时刻 (Moment of Truth)”和“深层需求”。
*   **扩充广告库存**：将原本无法投放广告的“非搜索/非电商”场景（如社区浏览、游戏过程）变成了精准营销的阵地。
*   **用户体验**：从“被打扰”变为“被服务”。

